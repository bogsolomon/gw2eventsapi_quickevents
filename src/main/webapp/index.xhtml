<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html">
    <h:head>
    	<meta http-equiv="refresh" content="60"/>
        <title>Quick Repeating Events Tracker</title>
    </h:head>
    <h:body>
        <h:form id="form">
        	<h:panelGrid columns="3" style="margin-bottom:10px" cellpadding="5">
	        	<h:outputText value="Level Range: " />
	        	<p:inputText id="lowLevelBound" value="#{quickEventBean.lowLevelBound}" size="5"
	        		onkeypress="if (event.keyCode == 13) {jQuery('#lowLevelBound').trigger('change'); return false; }" >
	        		<p:ajax event="change" update=":form:quickEvents" listener="#{quickEventBean.handleLevelRangeChange}" />
	        	</p:inputText>
	        	<p:inputText id="highLevelBound" value="#{quickEventBean.highLevelBound}"  size="5"
					onkeypress="if (event.keyCode == 13) {jQuery('#highLevelBound').trigger('change'); return false; }" >
	        		<p:ajax event="change" update=":form:quickEvents" listener="#{quickEventBean.handleLevelRangeChange}" />
	        	</p:inputText>
	        </h:panelGrid>  
        
			<p:dataTable var="event" value="#{quickEventBean.quickEvents}" id="quickEvents">  
	            <p:column headerText="Event Name">    
                	<h:outputText value="#{event.eventName}"/>
                </p:column>  
  
                <p:column headerText="Map Name">  
                	<h:outputText value="#{event.mapName}"/>
                </p:column>
                
                <p:column headerText="Time Between Active">  
                	<h:outputText value="#{event.stringDuration}"/>
                </p:column>
	        </p:dataTable>
        </h:form>
    </h:body>
</html>